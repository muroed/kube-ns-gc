# üì¶ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Helm —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

## –ß—Ç–æ —ç—Ç–æ?

Helm —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —á–∞—Ä—Ç—ã —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã `helm repo add` –∏ `helm install`.

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ GitHub –∏ —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–ª–∏–∑–∞ Helm —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞—Å—Ç—Ä–æ–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ GitHub Pages.

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. **–ü—Ä–∏ –ø—É—à–µ –≤ main** –∏–ª–∏ **—Å–æ–∑–¥–∞–Ω–∏–∏ —Ç–µ–≥–∞** –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è `pages.yml` workflow
2. **–£–ø–∞–∫–æ–≤—ã–≤–∞–µ—Ç—Å—è Helm —á–∞—Ä—Ç** —Å —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–µ–π
3. **–°–æ–∑–¥–∞–µ—Ç—Å—è index.yaml** —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ —á–∞—Ä—Ç–∞
4. **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ GitHub Pages** –ø–æ –∞–¥—Ä–µ—Å—É `https://muroed.github.io/kube-ns-gc`

## –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Pages

–ï—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∞:

### 1. –í–∫–ª—é—á–∏—Ç—å GitHub Pages

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Pages**
2. –í —Ä–∞–∑–¥–µ–ª–µ **Source** –≤—ã–±–µ—Ä–∏—Ç–µ **"GitHub Actions"**
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **Actions** ‚Üí **General**
2. –í —Ä–∞–∑–¥–µ–ª–µ **Workflow permissions** –≤—ã–±–µ—Ä–∏—Ç–µ **"Read and write permissions"**
3. –í–∫–ª—é—á–∏—Ç–µ **"Allow GitHub Actions to create and approve pull requests"**
4. –ù–∞–∂–º–∏—Ç–µ **"Save"**

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å workflow –≤—Ä—É—á–Ω—É—é

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Actions** ‚Üí **Deploy Helm Chart to GitHub Pages**
2. –ù–∞–∂–º–∏—Ç–µ **"Run workflow"**
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–µ—Ç–∫—É **main**
4. –ù–∞–∂–º–∏—Ç–µ **"Run workflow"**

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Helm —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

### –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
helm repo add kube-ns-gc https://muroed.github.io/kube-ns-gc
helm repo update
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤–µ—Ä—Å–∏–∏

```bash
helm search repo kube-ns-gc
```

### –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —á–∞—Ä—Ç

```bash
# –ü–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è
helm install kube-ns-gc kube-ns-gc/kube-ns-gc

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è
helm install kube-ns-gc kube-ns-gc/kube-ns-gc --version 0.1.0
```

### –û–±–Ω–æ–≤–∏—Ç—å —á–∞—Ä—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤–µ—Ä—Å–∏–∏
helm repo update

# –û–±–Ω–æ–≤–∏—Ç—å –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏
helm upgrade kube-ns-gc kube-ns-gc/kube-ns-gc

# –û–±–Ω–æ–≤–∏—Ç—å –¥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–µ—Ä—Å–∏–∏
helm upgrade kube-ns-gc kube-ns-gc/kube-ns-gc --version 0.2.0
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GitHub Pages –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:

```
https://muroed.github.io/kube-ns-gc/
‚îú‚îÄ‚îÄ index.yaml          # –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π —á–∞—Ä—Ç–∞
‚îú‚îÄ‚îÄ kube-ns-gc-0.1.0.tgz # –ß–∞—Ä—Ç –≤–µ—Ä—Å–∏–∏ 0.1.0
‚îú‚îÄ‚îÄ kube-ns-gc-0.2.0.tgz # –ß–∞—Ä—Ç –≤–µ—Ä—Å–∏–∏ 0.2.0
‚îî‚îÄ‚îÄ ...
```

## Troubleshooting

### –û—à–∏–±–∫–∞ "repository not found"

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
curl -I https://muroed.github.io/kube-ns-gc/index.yaml

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 200 OK
```

### –û—à–∏–±–∫–∞ "chart not found"

```bash
# –û–±–Ω–æ–≤–∏—Ç–µ –∫—ç—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
helm repo update

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –≤–µ—Ä—Å–∏–∏
helm search repo kube-ns-gc --versions
```

### Workflow –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –≤ **Settings** ‚Üí **Actions** ‚Üí **General**
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ GitHub Pages –≤–∫–ª—é—á–µ–Ω –≤ **Settings** ‚Üí **Pages**
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ workflow –≤ **Actions**

### GitHub Pages –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ **Settings** ‚Üí **Pages** –≤—ã–±—Ä–∞–Ω **"GitHub Actions"**
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ workflow –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ
3. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 –º–∏–Ω—É—Ç –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å GitHub Pages

- **Settings** ‚Üí **Pages** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ workflow

- **Actions** ‚Üí **Deploy Helm Chart to GitHub Pages** ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
curl -s https://muroed.github.io/kube-ns-gc/index.yaml | head -20

# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ index.yaml
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Helm —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

1. **–£–¥–æ–±—Å—Ç–≤–æ**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã Helm
2. **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: –õ–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É –≤–µ—Ä—Å–∏—è–º–∏
3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –ü—Ä–æ—Å—Ç–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `helm upgrade`
4. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: Helm –∫—ç—à–∏—Ä—É–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
5. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –Ω–æ–≤—ã—Ö —Ä–µ–ª–∏–∑–∞—Ö
